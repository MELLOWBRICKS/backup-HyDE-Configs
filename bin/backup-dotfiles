#!/bin/bash
sudo echo -e "\033[1;34müì¶  Taking a backup of dotfiles...\033[0m"

dotfiles="$HOME/backup-HyDE-Configs/"
hyde="$HOME/.config/hyde/"
hypr="$HOME/.config/hypr/"
ff="$HOME/.config/fastfetch/"
kitty="$HOME/.config/kitty/"
nvim="$HOME/.config/nvim/"
global_scripts="$HOME/.local/bin/"

echo -e "\n\033[0;36m‚Üí Backing up: $hyde\033[0m"
cp -r $hyde $dotfiles

echo -e "\n\033[0;36m‚Üí Backing up: $hypr\033[0m"
cp -r $hypr $dotfiles

echo -e "\n\033[0;36m‚Üí Backing up: $ff\033[0m"
cp -r $ff $dotfiles

echo -e "\n\033[0;36m‚Üí Backing up: $kitty\033[0m"
cp -r $kitty $dotfiles

echo -e "\n\033[0;36m‚Üí Backing up: $nvim\033[0m"
cp -r $nvim $dotfiles

echo -e "\n\033[0;36m‚Üí Backing up: $global_scripts\033[0m"
cp -r $global_scripts $dotfiles

sudo echo -e "\n\033[1;32m‚úÖ Backup Completed!\033[0m"


echo -e "\033[0;36mÓúâ  GitHub Backup Assistant\033[0m"
echo -e "üí¨  Do you want to push the backup to GitHub? (\033[0;32myes\033[0m/\033[1;33mno\033[0m)"
read -p "‚û§ " answer

case "$answer" in
    yes|y|Y|Yes|YES)
        echo -e "\033[0;32m‚úÖ Committing and pushing to GitHub...\033[0m"
        git add .
        git commit -m "last backup on $(date)"
        git push origin main
        echo -e "\033[0;32m‚úÖ Backup pushed successfully.\033[0m"
        ;;
    no|n|N|No|NO)
        echo -e "\033[1;33m‚ùå Committing only (no push)...\033[0m"
        git add .
        echo -e "\033[1;33m‚úÖ Backup Completed.\033[0m"
        ;;
    *)
        echo -e "\033[0;31m‚ùå Invalid input. Please answer yes or no.\033[0m"
        ;;
esac
